<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikTok Coins</title>
</head>
<body>
    <h1>Bem-vindo ao TikTok Coins</h1>

    <div id="app">
        <button onclick="watchVideo()">Assistir Vídeo</button>
        <p id="status"></p>
    </div>

    <script src="script.js"></script>
</body>
</html>
<div>
    <h2>Seu saldo de moedas: <span id="coins">0</span></h2>
</div>

<script>
    async function fetchCoins() {
        const response = await fetch('http://localhost:3000/getCoins', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ userId: 'seu-id-de-teste' }) // Substitua com o ID real
        });

        const data = await response.json();
        document.getElementById('coins').innerText = data.coins || 0;
    }

    fetchCoins();
</script>
<div>
    <h2>Seu saldo de moedas: <span id="coins">0</span></h2>
</div>
<script>
    async function addVideo() {
        const videoLink = document.getElementById('videoLink').value; // Pega o link do vídeo do campo de entrada
        const response = await fetch('http://localhost:3000/addVideo', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ userId: 'seu-id-de-teste', videoLink }) // Envia o ID do usuário e o link do vídeo
        });

        const data = await response.json(); // Espera a resposta do servidor
        alert(data.message || 'Erro ao adicionar vídeo'); // Mostra uma mensagem ao usuário
    }
</script>
<link rel="stylesheet" href="style.css">
<div>
    <h2>Registro de Usuário</h2>
    <input type="text" id="username" placeholder="Digite seu nome de usuário">
    <button onclick="registerUser()">Registrar</button>
</div>
<p id="registrationStatus"></p>
let userId = null; // Variável para armazenar o ID do usuário

async function registerUser() {
    const username = document.getElementById('username').value;
    const response = await fetch('http://localhost:3000/register', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ username })
    });

    const data = await response.json();
    if (data._id) {
        userId = data._id; // Armazenar o ID do usuário registrado
        document.getElementById('registrationStatus').innerText = 'Usuário registrado com sucesso!';
    } else {
        document.getElementById('registrationStatus').innerText = 'Erro ao registrar usuário.';
    }
}
async function watchVideo() {
    if (!userId) {
        alert('Por favor, registre-se primeiro!');
        return;
    }
    const response = await fetch('http://localhost:3000/watch', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ userId })
    });

    const data = await response.json();
    document.getElementById('status').innerText = data.message || 'Erro!';
}
<div>
    <h3>Adicionar um vídeo</h3>
    <input type="text" id="videoLink" placeholder="Cole o link do seu vídeo">
    <button onclick="addVideo()">Adicionar Vídeo</button>
</div>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikTok Coins</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Bem-vindo ao TikTok Coins</h1>

    <div>
        <h2>Registro de Usuário</h2>
        <input type="text" id="username" placeholder="Digite seu nome de usuário">
        <button onclick="registerUser()">Registrar</button>
    </div>
    <p id="registrationStatus"></p>

    <div>
        <h3>Adicionar um vídeo</h3>
        <input type="text" id="videoLink" placeholder="Cole o link do seu vídeo">
        <button onclick="addVideo()">Adicionar Vídeo</button>
    </div>

    <h3>Vídeos disponíveis:</h3>
    <ul id="videoList"></ul>

    <div id="videoPlayer" style="display:none;">
        <h3>Assistindo:</h3>
        <iframe id="videoIframe" width="560" height="315" frameborder="0" allowfullscreen></iframe>
    </div>

    <div id="app">
        <button onclick="watchVideo()">Assistir Vídeo</button>
        <p id="status"></p>
    </div>

    <script src="script.js"></script>
</body>
</html>
